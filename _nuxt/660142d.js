(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{465:function(e,t,n){"use strict";n.r(t);n(31),n(9),n(260),n(41),n(35);var r=n(12),o={data:function(){return{id:this.$route.params.id,account:{},addingTransaction:!1,transactions:[],selectedTransactions:[],headers:[{text:"Test",value:"data.category"},{text:"Test",value:"data.date"},{text:"Test",value:"data.payee"},{text:"Test",value:"data.value"},{text:"Test",value:"data.notes"},{text:"Test",value:"actions"}],addTransactionDialog:!1,form:{date:"",payee:"",value:"",category:"",notes:""}}},mounted:function(){this.getAccount(),this.getTransactions()},computed:{filteredTransactions:function(){return this.transactions}},methods:{getAccount:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$fire.firestore.collection("users").doc(e.$fire.auth.currentUser.uid).collection("accounts").doc(e.id).onSnapshot((function(t){e.account=t.data()}));case 1:case"end":return t.stop()}}),t)})))()},getTransactions:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$fire.firestore.collection("users").doc(e.$fire.auth.currentUser.uid).collection("accounts").doc(e.id).collection("transactions").onSnapshot((function(t){e.transactions=[];var n=e.account.startingBalance;t.forEach((function(t){e.transactions.push({id:t.id,edit:!1,data:t.data()}),n+=t.data().value})),e.$fire.firestore.collection("users").doc(e.$fire.auth.currentUser.uid).collection("accounts").doc(e.id).update({currentBalance:n.toFixed(2)})}));case 1:case"end":return t.stop()}}),t)})))()},addTransaction:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.firestore.collection("users").doc(e.$fire.auth.currentUser.uid).collection("accounts").doc(e.id).collection("transactions").add({created_date:e.$moment().toDate(),payee:e.form.payee,category:e.form.category,date:e.form.date,value:Number(e.form.value),notes:e.form.notes}).then((function(t){e.addTransactionDialog=!1}));case 2:case"end":return t.stop()}}),t)})))()},deleteTransactions:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedTransactions.forEach((function(t){e.$fire.firestore.collection("users").doc(e.$fire.auth.currentUser.uid).collection("accounts").doc(e.id).collection("transactions").doc(t.id).delete()})),e.selectedTransactions=[];case 2:case"end":return t.stop()}}),t)})))()}}},c=n(67),l=n(82),d=n.n(l),f=n(196),v=n(185),m=n(78),T=n(413),h=n(461),x=n(414),_=n(415),w=n(417),y=n(418),$=n(118),k=n(419),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[e._v("Account "+e._s(e.id)+"\n    "),n("v-card-text",[e._v(e._s(e.account)+"\n        "),n("v-row",[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.addTransactionDialog=!0}}},[e._v("Add")]),n("v-btn",{attrs:{disabled:0==e.selectedTransactions.length},on:{click:e.deleteTransactions}},[e._v("Delete")])],1)],1),e._v(" "),n("v-data-table",{attrs:{"show-select":"",headers:e.headers,items:e.filteredTransactions,dense:""},model:{value:e.selectedTransactions,callback:function(t){e.selectedTransactions=t},expression:"selectedTransactions"}}),e._v("\n       "+e._s(e.selectedTransactions)+"\n    ")],1),e._v(" "),n("v-dialog",{attrs:{persistant:"","max-width":"400"},model:{value:e.addTransactionDialog,callback:function(t){e.addTransactionDialog=t},expression:"addTransactionDialog"}},[n("v-card",[n("v-card-title",[e._v("Add Transaction")]),e._v(" "),n("v-card-text",[n("v-form",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Date"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Payee"},model:{value:e.form.payee,callback:function(t){e.$set(e.form,"payee",t)},expression:"form.payee"}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Value"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Category"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("v-textarea",{attrs:{label:"Notes"},model:{value:e.form.notes,callback:function(t){e.$set(e.form,"notes",t)},expression:"form.notes"}})],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-btn",{on:{click:function(t){e.addTransactionDialog=!1}}},[e._v("Cancel")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:e.addTransaction}},[e._v("Add")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:f.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VCol:T.a,VDataTable:h.a,VDialog:x.a,VForm:_.a,VRow:w.a,VSpacer:y.a,VTextField:$.a,VTextarea:k.a})}}]);